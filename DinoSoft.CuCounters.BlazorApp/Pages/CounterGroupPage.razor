@page "/counter-groups/{id:guid}"
@using DinoSoft.CuCounters.Domain.Model
@using DinoSoft.CuCounters.Domain.Infrastructure
@inject DataManager dataManager
@inject NavigationManager NavigationManager

<LayoutView>
     <div class="justify-content-between text-warning border-bottom border-warning header-bg" style="height:60px; padding:20px;">
            <h6 class="col-auto"  @onclick="NavigateBack">Назад</h6>
     </div>

    <ol class="list-group d-flex justify-content-between ">
        @foreach (var counter in CounterGroup.Counters)
        {
            <li class="list-group-flush border-bottom border-secondary rounded scrollarea main-bg">
              <CounterSliderElement Model=counter/>
            </li>
        }
    </ol>
</LayoutView>


@code {

    [Parameter]
    public  Guid id { get; set; }

    private DinoSoft.CuCounters.Domain.Model.CounterGroup CounterGroup;

    protected override async Task OnInitializedAsync()
    {
        CounterGroup = dataManager.GetCounterGroups().First(x => x.Id == id);
    }

    private void NavigateBack()
    {
        dataManager.SaveCurrent();
        NavigationManager.NavigateTo("");
    }
}